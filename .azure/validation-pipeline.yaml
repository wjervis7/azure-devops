pool:
  default

steps:
- task: NodeTool@0
  inputs:
    versionSource: 'fromFile'
    versionFilePath: '.nvmrc'
    checkLatest: true
  displayName: Install NodeJS

- task: Npm@1
  inputs:
    command: 'ci'
  displayName: npm ci

- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run lint'
  displayName: Run ESLint

- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run type-check'
  displayName: Run TS Type Check

- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run test:unit'
  displayName: Run Unit Tests
