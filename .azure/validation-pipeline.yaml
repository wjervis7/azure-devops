pr:
  branches:
    include: ["main"]

pool:
  default

steps:
- task: NodeTool@0
  inputs:
    versionSource: 'fromFile'
    versionFilePath: '.nvmrc'
    checkLatest: true
- task: Npm@1
  inputs:
    command: 'ci'
- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run format'
- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run lint'
- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run type-check'
- task: Npm@1
  inputs:
    command: 'custom'
    customCommand: 'run test:unit'
